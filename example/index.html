<!DOCTYPE html>
<html>
    <head>
        <title>UI-Message-Queue Test</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <style>

#msg-output{
    width: 300px;
    height: 30px;
    border: 1px solid black;
    margin: 15px;
    padding: 10px;
}

        </style>
    </head>

    <body>
        <header id="banner">
            <h2>UI-Message-Queue Demo</h2>

            <p>This page is a demo of the UI Message Queue - a Javascript implementation of a
                message queue allowing you to push messages (String) to the queue and
                display in via a FIFO (First In First Out) method.
            </p>

            <p>See <a href="https://github.com/rob-murray/ui-message-queue">https://github.com/rob-murray/ui-message-queue</a> for usage instructions.</p>

            <p>Click the button to add some messages to the queue and watch them each displayed for a specific period of time.</p>
        </header>


        <section id="content">
            <button id="init">Click to run!</button>
            <div id="msg-output">

            </div>
        </section>

    </body>

    <!-- Import Javascript libs -->
    <script type="text/javascript" src="../lib/ui-message-queue.min.js"></script>


    <script type="text/javascript">

(function() {
  "use strict";

  var messageQueue,
      one_second = 1000,
      messageDisplayTime = 1.5 * one_second;

  // Create UIMessageQueue with options
  messageQueue = new UiMessageQueue({
    outputElementId: "msg-output",
    delay: messageDisplayTime,
    emptyDisplayString: "Queue is now empty..."
  });

  function run(){
    var TEN_SECONDS = 10000;

    //add sequence of messages to queue
    messageQueue.push("message 1");
    messageQueue.push("message 2");
    messageQueue.push("message 3");
    messageQueue.push("message 4");
    messageQueue.push("message 5");

    //add a delayed message
    setTimeout(function(){
      messageQueue.push("This is a delayed message!!");
    }, TEN_SECONDS);
  }

  document.getElementById("init").onclick = run;
}());

    </script>
</html>

